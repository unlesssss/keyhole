<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Keyhole</title>
<style>
  /* Fonts */
  @font-face { font-family: "Copperplate"; src: local("Copperplate"); }
  @font-face {
    font-family: "StencilStd-Bold";
    src: url("StencilStd-Bold.ttf") format("truetype");
    font-weight: 700; font-style: normal; font-display: swap;
  }

  * { box-sizing: border-box; }
  html, body {
    margin: 0; padding: 0; height: 100vh; width: 100vw; background:#fff;
    font-family: "Copperplate", serif;
  }

  /* ===========================
     CENTER THE WHOLE UNIT
     =========================== */
  .stage {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* perfect center */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px; /* space between cigarette and consent row */
    z-index: 1;
  }

  /* ===========================
     TWEAK THESE NUMBERS
     =========================== */
  /* Bar height (applies to rectangles, input, button) */
  .cigarette { --BAR_H: 30px; }

  /* Rectangles */
  .rect-1  { --W: 4px;  }   /* left-most line */
  .rect-2  { --W: 4px;  }   /* second line */
  .rect-gap-between { --W: 4px; }  /* gap between rect-1 and rect-2 */

  /* Gaps */
  .gap-after-rects  { --W: 5px; }   /* gap after rectangles, before input */
  .gap-into-button  { --W: 6px; }  /* gap before button */

  /* Input & Button widths */
  .email-input    { --W: 312px; }   /* input width */
  .submit-btn     { --W: 160px; }   /* button width */

  /* Smoke image */
  .smoke {
    --SMOKE_W: 56px;
    --SMOKE_LEFT: -42px;   /* negative = left of the cigarette */
    --SMOKE_BOTTOM: 40px;  /* from the bottom of the bar */
  }

  /* ===========================
     CIGARETTE LAYOUT
     =========================== */
  .cigarette {
    position: relative;
    display: flex;
    align-items: stretch;
    height: var(--BAR_H);
    width: max-content;     /* size to contents; no flex shrinking */
  }

  /* left decorative rectangles */
  .decor-box {
    position: relative;
    height: 100%;
    border: 1px solid #000;
    background: transparent;
    /* important: set BOTH width AND flex-basis so Safari/Chrome never override */
    width: var(--W);
    flex: 0 0 var(--W);
  }
  .decor-box::after {
    content: "";
    position: absolute; top: 0; bottom: 0; right: 1px;
    width: 2px; background: #fff; pointer-events: none;
  }

  /* explicit small spacer between the two rectangles */
  .rect-gap-between {
    width: var(--W);
    flex: 0 0 var(--W);
  }

  /* gap after both rectangles */
  .gap-after-rects {
    width: var(--W);
    flex: 0 0 var(--W);
  }

  /* input */
  .email-input {
    width: var(--W);
    flex: 0 0 var(--W);
    height: 100%;
    min-width: 0; /* avoid Safari default growth */
  }
  .email-input input {
    width: 100%;
    height: 100%;
    padding: 0 12px;
    font-size: 16px;
    font-family: Helvetica, Arial, sans-serif;
    border: 1px solid #000;
    background: #fff;
    outline: none;
    border-radius: 0;
    -webkit-appearance: none;
  }
  .email-input input::placeholder { color:#9a9a9a; }

  /* gap before button */
  .gap-into-button {
    width: var(--W);
    flex: 0 0 var(--W);
  }

  /* button */
  .submit-btn {
    width: var(--W);
    flex: 0 0 var(--W);
    height: 100%;
  }
  .submit-btn button {
    width: 100%;
    height: 100%;
    border: 1px solid #000;
    background: #000; color:#fff;
    font-family: "StencilStd-Bold", sans-serif;
    font-size: 18px; letter-spacing: 1px; line-height: 1;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer;
  }
  .submit-btn button:hover { background:#222; }

  /* smoke decoration */
  .smoke {
    position: absolute;
    left: var(--SMOKE_LEFT);
    bottom: var(--SMOKE_BOTTOM);
    max-width: var(--SMOKE_W);
    height: auto;
    pointer-events: none;
  }

  /* consent row centered under the cigarette width */
  .consent {
    width: 100%;
    display: flex;
    justify-content: center; /* center under the cigarette */
    font-size: 10px;
    text-align: center;
  }
  .consent label {
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }

  /* ====== Footer (unchanged) ====== */
  .footer {
    position: fixed; left: 0; right: 0; bottom: 0;
    display: flex; justify-content: space-between; align-items: flex-end;
    padding: 0 40px 20px;
    font-size: 10px; font-family: "Copperplate", serif;
    pointer-events: none;
  }
  .footer > * { pointer-events: auto; }
  .footer-center { position: fixed; left: 50%; bottom: 20px; transform: translateX(-50%); }
  .footer-right { display: flex; gap: 20px; }
  .footer a { color:#000; text-decoration:none; font-size:10px; }
  .footer a:hover { text-decoration: underline; }
  .keyhole-logo { height: 18px; display:block; }
</style>
</head>
<body>

  <div class="stage">
    <form id="newsletter-form"
          action="https://assets.mailerlite.com/jsonp/1680960/forms/162087587854419890/subscribe"
          method="post"
          target="ml-form-frame">

      <!-- CIGARETTE -->
      <div class="cigarette" id="cigarette">
        <img class="smoke" src="SMOKE.png" alt="smoke">

        <div class="decor-box rect-1"></div>
        <div class="rect-gap-between" aria-hidden="true"></div>
        <div class="decor-box rect-2"></div>

        <div class="gap-after-rects" aria-hidden="true"></div>

        <div class="email-input">
          <input type="email" name="fields[email]" placeholder="enter mail" required>
        </div>

        <div class="gap-into-button" aria-hidden="true"></div>

        <div class="submit-btn">
          <button type="submit"><span>SUBSCRIBE</span></button>
        </div>
      </div>

      <!-- CONSENT centered under cigarette -->
      <div class="consent">
        <label>
          <input type="checkbox" name="consent" required>
          UPDATES FROM KEYHOLE. UNSUBSCRIBE ANYTIME.
        </label>
      </div>
    </form>

    <div id="thank-you-message" style="display:none; font-size:12px; text-align:center;">
      THANK YOU.
    </div>
    <iframe name="ml-form-frame" style="display:none;"></iframe>
  </div>

  <!-- Footer -->
  <div class="footer">
    <div class="footer-left">Â© 2025 KEYHOLE CLUB CONGRESS ALL RIGHTS RESERVED</div>
    <div class="footer-center"><img src="Keyhole_Logo.png" alt="Keyhole Logo" class="keyhole-logo"></div>
    <div class="footer-right">
      <a href="https://instagram.com/keyhole.cc" target="_blank">INSTAGRAM</a>
      <a href="/privacy/">PRIVACY POLICY</a>
      <a href="/imprint/">IMPRINT</a>
    </div>
  </div>

  <script>
    // Replace form with THANK YOU after submit (no navigation)
    const form = document.getElementById('newsletter-form');
    const thankYou = document.getElementById('thank-you-message');
    form.addEventListener('submit', () => {
      setTimeout(() => {
        form.style.display = 'none';
        thankYou.style.display = 'block';
      }, 1000);
    });
  </script>
</body>
</html>
